<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, viewport-fit=cover, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#0a0e1a">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="description" content="HIPAA-compliant real-time medical translation">
  <title>MedTranslate</title>
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" type="image/svg+xml" href="/icons/icon.svg">
  <link rel="apple-touch-icon" href="/icons/icon-512.png">
  <link rel="apple-touch-startup-image" href="/icons/splash.png">
  <meta name="apple-mobile-web-app-title" content="MedTranslate">
  <link rel="stylesheet" href="/styles/app.css?direct">

  <style>
    /* Critical UI Overrides */
    .lang-carousel {
      display: flex;
      overflow-x: auto;
      gap: 1.5rem;
      padding: 1rem 0;
      margin-bottom: 2rem;
      scrollbar-width: none;
    }

    .lang-carousel::-webkit-scrollbar {
      display: none;
    }

    .lang-flag-card {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.75rem;
      flex: 0 0 auto;
      cursor: pointer;
      opacity: 0.5;
      transition: all 0.3s;
      transform: scale(0.9);
    }

    .lang-flag-card.selected {
      opacity: 1;
      transform: scale(1.05);
    }

    .flag-circle {
      width: 64px;
      height: 64px;
      border-radius: 50%;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
      border: 2px solid transparent;
      background: #1a2235;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .lang-flag-card.selected .flag-circle {
      border-color: #00f0ff;
      box-shadow: 0 0 20px rgba(0, 240, 255, 0.4), inset 0 0 10px rgba(0, 240, 255, 0.2);
    }

    .flag-circle img {
      width: 130%;
      height: 130%;
      object-fit: cover;
    }

    .lang-flag-card .lang-name {
      font-size: 0.85rem;
      font-weight: 500;
      color: #8da4c0;
    }

    .lang-flag-card.selected .lang-name {
      color: #ffffff;
      font-weight: 600;
      text-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
    }

    .preset-item {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid transparent;
      padding: 1rem;
      border-radius: 12px;
      color: #fff;
      text-align: left;
      font-size: 0.95rem;
    }

    .specialty-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      margin-top: 1.5rem;
      width: 100%;
      box-sizing: border-box;
    }

    .specialty-card {
      width: 100%;
      box-sizing: border-box;
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(82, 153, 224, 0.2);
      padding: 1.25rem 0.5rem;
      border-radius: 16px;
      color: #8da4c0;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
    }

    .specialty-card.selected {
      background: rgba(82, 153, 224, 0.15);
      border-color: #00f0ff;
      color: #fff;
      transform: scale(1.05);
      box-shadow: 0 0 20px rgba(0, 240, 255, 0.2);
    }

    .specialty-card svg {
      stroke: currentColor;
      opacity: 0.8;
    }

    .preset-category-title {
      color: #5299e0;
      font-size: 0.8rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin: 1rem 0 0.5rem 0.5rem;
      align-self: flex-start;
    }
  </style>
</head>

<body>
  <div id="app">


    <!-- SCREEN 1: PIN Login -->
    <div id="login-screen" class="screen">
      <div class="logo animate-slide-up" style="text-align:center;">
        <img src="/images/logo-wide.svg" alt="MedTranslate" style="max-width:280px;height:auto;margin:0 auto 0.5rem;">
        <p class="subtitle">HIPAA-Compliant Medical Translation</p>
      </div>
      <div class="card animate-slide-up-delay-1">
        <div class="card-title">Staff PIN</div>
        <div class="pin-container" id="pin-container">
          <input class="pin-digit" type="password" inputmode="numeric" maxlength="1" data-index="0" autocomplete="off"
            aria-label="PIN digit 1">
          <input class="pin-digit" type="password" inputmode="numeric" maxlength="1" data-index="1" autocomplete="off"
            aria-label="PIN digit 2">
          <input class="pin-digit" type="password" inputmode="numeric" maxlength="1" data-index="2" autocomplete="off"
            aria-label="PIN digit 3">
          <input class="pin-digit" type="password" inputmode="numeric" maxlength="1" data-index="3" autocomplete="off"
            aria-label="PIN digit 4">
          <input class="pin-digit" type="password" inputmode="numeric" maxlength="1" data-index="4" autocomplete="off"
            aria-label="PIN digit 5">
          <input class="pin-digit" type="password" inputmode="numeric" maxlength="1" data-index="5" autocomplete="off"
            aria-label="PIN digit 6">
        </div>
        <button id="login-btn" class="btn btn-primary" disabled><span>Sign In</span></button>
      </div>
      <div class="security-badge animate-slide-up-delay-2">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
        </svg>
        <span>End-to-end encrypted</span>
      </div>
    </div>


    <!-- SCREEN 1.5: Specialty Select -->
    <div id="specialty-screen" class="screen setup-screen hidden"
      style="justify-content: flex-start; padding-top: 2.5rem;">
      <div class="logo animate-slide-up" style="text-align:center; margin-bottom:1.5rem;">
        <img src="/images/logo-wide.svg" alt="MedTranslate" style="max-width:300px;height:auto;margin:0 auto 1rem;">
        <h1 style="font-size:1.1rem; font-weight:600; color:#94a3b8; margin-bottom:0.25rem;">Your Specialty</h1>
        <p class="subtitle" style="font-size:0.82rem;">Customize your clinical phrases</p>
      </div>
      <div class="card animate-slide-up-delay-1" style="width: 100%;">
        <div class="specialty-grid" id="specialty-grid">
          <div class="specialty-card" data-specialty="anesthesia" tabindex="0" role="button">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke-width="2">
              <path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z" />
              <line x1="16" y1="8" x2="2" y2="22" />
              <line x1="17.5" y1="15" x2="9" y2="6.5" />
            </svg>
            <span style="font-weight: 500; font-size: 0.95rem;">Anesthesia</span>
          </div>
          <div class="specialty-card" data-specialty="er" tabindex="0" role="button">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke-width="2">
              <path d="M22 12h-4l-3 9L9 3l-3 9H2" />
            </svg>
            <span style="font-weight: 500; font-size: 0.95rem;">Emergency (ER)</span>
          </div>
          <div class="specialty-card" data-specialty="pediatrics" tabindex="0" role="button">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke-width="2">
              <circle cx="12" cy="5" r="3" />
              <path d="M7 22v-6a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v6" />
              <path d="M12 9v4" />
              <line x1="9" y1="13" x2="15" y2="13" />
            </svg>
            <span style="font-weight: 500; font-size: 0.95rem;">Pediatrics</span>
          </div>
          <div class="specialty-card" data-specialty="general" tabindex="0" role="button">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke-width="2">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
              <path d="M14 2v6h6" />
              <path d="M12 18v-6" />
              <path d="M9 15h6" />
            </svg>
            <span style="font-weight: 500; font-size: 0.95rem;">General Med</span>
          </div>
        </div>
        <button id="confirm-specialty-btn" class="btn btn-primary" style="margin-top: 1.5rem;"
          disabled><span>Continue</span></button>
      </div>
    </div>

    <!-- SCREEN 2: Language Setup -->
    <div id="setup-screen" class="screen setup-screen hidden" style="justify-content: flex-start; padding-top: 2.5rem;">
      <div class="logo animate-slide-up" style="margin-bottom:1.5rem;">
        <div class="logo-icon logo-icon-lang" style="display:none;"></div>
        <img src="/images/logo-wide.svg" alt="MedTranslate" style="max-width:300px;height:auto;margin:0 auto 1rem;">
        <h1 style="font-size:1.1rem; font-weight:600; color:#94a3b8; margin-bottom:0.25rem;">Select Language</h1>
        <p class="subtitle" style="font-size:0.82rem;">Choose the patient's primary language</p>


      </div>
      <div class="card animate-slide-up-delay-1">
        <div class="lang-carousel" id="language-grid">
          <div class="lang-flag-card" data-lang="es" data-locale="es-US" tabindex="0" role="button">
            <div class="flag-circle"><img src="https://flagcdn.com/mx.svg" alt="Spanish"></div>
            <span class="lang-name">Spanish</span>
          </div>
          <div class="lang-flag-card" data-lang="ht" data-locale="ht-HT" tabindex="0" role="button">
            <div class="flag-circle"><img src="https://flagcdn.com/ht.svg" alt="Haitian Creole"></div>
            <span class="lang-name">Haitian Creole</span>
          </div>
          <div class="lang-flag-card" data-lang="fr" data-locale="fr-FR" tabindex="0" role="button">
            <div class="flag-circle"><img src="https://flagcdn.com/fr.svg" alt="French"></div>
            <span class="lang-name">French</span>
          </div>
          <div class="lang-flag-card" data-lang="pt" data-locale="pt-BR" tabindex="0" role="button">
            <div class="flag-circle"><img src="https://flagcdn.com/br.svg" alt="Portuguese"></div>
            <span class="lang-name">Portuguese</span>
          </div>
          <div class="lang-flag-card" data-lang="ru" data-locale="ru-RU" tabindex="0" role="button">
            <div class="flag-circle"><img src="https://flagcdn.com/ru.svg" alt="Russian"></div>
            <span class="lang-name">Russian</span>
          </div>
          <div class="lang-flag-card" data-lang="zh" data-locale="zh-CN" tabindex="0" role="button">
            <div class="flag-circle"><img src="https://flagcdn.com/cn.svg" alt="Mandarin"></div>
            <span class="lang-name">Mandarin</span>
          </div>
          <div class="lang-flag-card" data-lang="ar" data-locale="ar-SA" tabindex="0" role="button">
            <div class="flag-circle"><img src="https://flagcdn.com/sa.svg" alt="Arabic"></div>
            <span class="lang-name">Arabic</span>
          </div>
          <div class="lang-flag-card" data-lang="vi" data-locale="vi-VN" tabindex="0" role="button">
            <div class="flag-circle"><img src="https://flagcdn.com/vn.svg" alt="Vietnamese"></div>
            <span class="lang-name">Vietnamese</span>
          </div>
          <div class="lang-flag-card" data-lang="tl" data-locale="fil-PH" tabindex="0" role="button">
            <div class="flag-circle"><img src="https://flagcdn.com/ph.svg" alt="Tagalog"></div>
            <span class="lang-name">Tagalog</span>
          </div>
        </div><button id="start-session-btn" class="btn btn-primary" disabled><span>Start Session</span></button>
      </div>
    </div>

    <!-- SCREEN 4: Voice Training Portal -->
    <div id="training-screen" class="screen hidden">
      <div class="session-topbar" style="justify-content: space-between;">
        <div class="language-badge">Training Mode</div>
        <button class="end-btn" id="exit-training-btn">Exit</button>
      </div>

      <div class="card animate-slide-up-delay-1" style="margin-top: 2rem; text-align: center;">
        <h2 style="color: #fff; margin-bottom: 0.5rem; font-size: 1.2rem;">Read Aloud in <span
            id="training-target-lang">Creole</span></h2>
        <p style="color: #8da4c0; font-size: 0.9rem; margin-bottom: 1.5rem;">Press and hold the microphone to record
          your translation.</p>

        <div
          style="background: rgba(10,14,26,0.6); border: 1px solid rgba(255,255,255,0.1); border-radius: 16px; padding: 1.5rem; margin-bottom: 2rem; min-height: 100px; display: flex; align-items: center; justify-content: center;">
          <h3 id="training-phrase-text" style="color: #00f0ff; font-size: 1.3rem; font-weight: 500; line-height: 1.4;">
            "I will perform a physical exam now."</h3>
        </div>

        <button id="training-record-btn" class="btn-mic"
          style="margin: 0 auto; width: 80px; height: 80px; border-radius: 50%; background: #2a354d; border: 2px solid #5299e0; cursor: pointer; display: flex; align-items: center; justify-content: center;">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2">
            <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z" />
            <path d="M19 10v2a7 7 0 0 1-14 0v-2" />
            <line x1="12" y1="19" x2="12" y2="22" />
            <line x1="8" y1="22" x2="16" y2="22" />
          </svg>
        </button>
        <p id="training-status-text" style="color: #8da4c0; margin-top: 1rem; font-size: 0.85rem;">Hold to record</p>
      </div>
    </div>
    <!-- SCREEN 3: Active Translation (fixed layout) -->
    <div id="session-screen" class="screen session-screen hidden">
      <!-- Top bar: logo left, settings gear right -->
      <div class="session-topbar">
        <div style="display:flex; align-items:center; gap:0.5rem;">
          <img src="/images/logo-wide.svg" alt="MedTranslate" style="height:28px; width:auto;">
        </div>
        <button id="settings-toggle-btn"
          style="background:none; border:none; color:#5299e0; cursor:pointer; padding:6px; display:flex; align-items:center;"
          aria-label="Settings">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3" />
            <path
              d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z" />
          </svg>
        </button>
        <button class="end-btn" id="end-session-btn">End</button>
      </div>

      <!-- Hidden status elements (kept for JS compat) -->
      <div style="display:none">
        <div class="connection-dot" id="connection-dot"></div>
        <span class="rec-timer" id="session-timer">0:00</span>
        <div class="waveform-status ready" id="waveform-status">
          <span class="status-dot"></span>
          <span id="status-text">Ready</span>
        </div>
      </div>


      <!-- Scrollable transcript area -->
      <div class="transcript-area">
        <div class="transcript-bubble original-bubble" id="original-transcript">
          <div class="source-label">ORIGINAL</div>
          <div class="transcript-text" id="original-text">Slide mic &amp; hold to speak</div>
        </div>
        <div class="transcript-divider">
          <div class="divider-line"></div>
          <svg class="divider-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2">
            <polyline points="6 9 12 15 18 9" />
          </svg>
          <div class="divider-line"></div>
        </div>
        <div class="transcript-bubble translation-bubble" id="translated-transcript">
          <div class="source-label">TRANSLATION</div>
          <div class="transcript-text" id="translated-text">&mdash;</div>
        </div>
        <!-- Session history log â€” max-height capped, scrollable, never pushes main bubbles -->
        <div class="history-log" id="history-log" style="max-height:22vh; overflow-y:auto; flex-shrink:0;"></div>
      </div>

      <!-- Hidden compat elements -->
      <canvas id="waveform-canvas" style="display:none"></canvas>
      <div style="display:none">
        <div id="volume-bar"></div>
      </div>

      <!-- Slidable mic dock -->
      <div class="mic-dock">
        <!-- Quick Presets -->
        <div class="presets-container">
          <button id="presets-toggle-btn" class="btn-preset-toggle">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="7" height="7" />
              <rect x="14" y="3" width="7" height="7" />
              <rect x="14" y="14" width="7" height="7" />
              <rect x="3" y="14" width="7" height="7" />
            </svg>
            Presets
          </button>
          <div id="presets-menu" class="presets-menu hidden">
            <!-- Sticky top: close button + workflow row -->
            <div class="presets-sticky-header">
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem;">
                <div class="preset-category-title" style="margin: 0;">Automated Workflows</div>
                <button id="presets-close-btn"
                  style="background: none; border: none; color: #8da4c0; cursor: pointer; padding: 4px;">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="6 9 12 15 18 9" />
                  </svg>
                </button>
              </div>
              <!-- Horizontal scrollable workflows -->
              <div class="workflows-scroll-container">
                <style>
                  .workflows-scroll-container::-webkit-scrollbar {
                    display: none;
                  }

                  .preset-workflow-btn {
                    flex: 0 0 auto;
                    background: rgba(6, 214, 160, 0.1);
                    border: 1px solid var(--accent);
                    color: #00f0ff;
                    border-radius: 20px;
                    padding: 0.5rem 1.1rem;
                    cursor: pointer;
                    white-space: nowrap;
                    font-weight: 600;
                    font-size: 0.85rem;
                    letter-spacing: 0.3px;
                  }

                  .preset-workflow-btn:active {
                    opacity: 0.7;
                  }
                </style>
                <button class="preset-workflow-btn" data-flow="preop">PreOP Flow</button>
                <button class="preset-workflow-btn" data-flow="induction">Induction Flow</button>
                <button class="preset-workflow-btn" data-flow="postop">PostOP Flow</button>
                <button class="preset-workflow-btn" data-flow="pain">Pain Assessment</button>
              </div>
            </div>
            <!-- Scrollable body: Quick Phrases -->
            <div class="presets-scrollable-body">
              <div class="preset-category-title" style="margin-top:0.25rem">Quick Phrases</div>
              <button class="preset-item" data-text="Do you have any allergies to medications?">Allergies?</button>
              <button class="preset-item" data-text="When was the last time you had anything to eat or drink?">Last
                Meal?</button>
              <button class="preset-item"
                data-text="Are you currently experiencing any chest pain or shortness of breath?">Chest Pain?</button>
              <button class="preset-item"
                data-text="Do you have any chronic medical problems like high blood pressure, diabetes, asthma, seizures, or stroke?">Medical
                History?</button>
              <button class="preset-item"
                data-text="Have you or anyone in your family ever had problems with anesthesia?">Anesthesia
                Issues?</button>
              <button class="preset-item" data-text="Are you currently taking any blood thinners?">Blood
                Thinners?</button>
              <button class="preset-item"
                data-text="Do you have any loose teeth, dentures, or metal implants?">Implants/Dentures?</button>
              <button class="preset-item"
                data-text="Do you smoke, drink alcohol, or use any recreational drugs?">Smoke/Drink?</button>
              <button class="preset-item"
                data-text="Are you experiencing any pain right now? Can you point to where it hurts?">Pain?</button>
            </div>
          </div>
        </div>

        <!-- New Interview Flow Controls -->
        <div id="interview-controls" class="hidden"
          style="display:flex; width: 100%; max-width: 320px; gap: 0.5rem; margin-bottom: 0.5rem;">
          <button class="btn" id="interview-next-btn"
            style="flex:2; background: rgba(6,214,160,0.2); border: 1px solid var(--accent); color: var(--accent);">Next
            Question</button>
          <button class="btn" id="interview-skip-btn"
            style="flex:1; background: rgba(239, 68, 68, 0.15); border: 1px solid #ef4444; color: #ef4444;">End
            Flow</button>
        </div>

        <!-- Manual text input -->
        <div class="manual-input-container"
          style="display:flex; width: 100%; max-width: 320px; gap: 0.5rem; margin-bottom: 0.5rem; padding: 0 1rem; box-sizing:border-box;">
          <input type="text" id="manual-text-input" placeholder="Type to translate..." autocomplete="off"
            style="flex:1; background:rgba(255,255,255,0.05); border:1px solid rgba(82, 153, 224, 0.3); color:#fff; padding:0.6rem 1rem; border-radius: 20px; outline:none; font-family:inherit; font-size: 0.95rem;">
          <button id="manual-text-send-btn"
            style="background:#06d6a0; border:none; width:40px; height:40px; border-radius:50%; color:#0a0e1a; cursor:pointer; display:flex; align-items:center; justify-content:center; flex-shrink:0;">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="22" y1="2" x2="11" y2="13"></line>
              <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
            </svg>
          </button>
        </div>

        <div class="slider-track" id="slider-track">
          <div class="slider-label slider-label-left" id="slider-label-left">
            <span class="slider-lang">EN</span>
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9 18 15 12 9 6" />
            </svg>
            <span class="slider-lang">ES</span>
          </div>
          <div class="slider-label slider-label-right" id="slider-label-right">
            <span class="slider-lang">ES</span>
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9 18 15 12 9 6" />
            </svg>
            <span class="slider-lang">EN</span>
          </div>
          <div class="slider-thumb" id="mic-toggle" aria-label="Slide to set direction, hold to record">
            <svg class="mic-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
              stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z" />
              <path d="M19 10v2a7 7 0 0 1-14 0v-2" />
              <line x1="12" y1="19" x2="12" y2="23" />
              <line x1="8" y1="23" x2="16" y2="23" />
            </svg>
          </div>
        </div>
        <div class="slider-hint" id="slider-hint">Slide to set direction, hold to speak</div>
      </div>
    </div>

    <!-- SCREEN 5: Interview Summary Modal -->
    <div id="summary-screen" class="screen hidden"
      style="z-index: 200; background: rgba(6,8,15,0.95); position: fixed; inset: 0;">
      <div class="card animate-slide-up" style="max-height: 80vh; display: flex; flex-direction: column;">
        <h2 style="color: #fff; margin-bottom: 0.5rem;">Interview Summary</h2>
        <p style="color: var(--text-muted); font-size: 0.85rem; margin-bottom: 1.5rem;">Translated responses from the
          patient</p>

        <div id="summary-content"
          style="flex: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 1rem; margin-bottom: 1.5rem;">
          <!-- Dynamically populated -->
        </div>

        <button id="close-summary-btn" class="btn btn-primary">Close</button>
      </div>
    </div>

  </div>
  <div class="toast" id="toast" role="alert" aria-live="polite"></div>
  <script type="module" src="/js/app.js"></script>
</body>

</html>